<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒê¸°ë¶€ ì„±ì¥ ë¶„ì„ ë° 3í•™ë…„ ì „ëµ ë³´ê³ ì„œ | Gemini 3.0 Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        :root { --p: #6366f1; --s: #10b981; --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; padding: 20px; }
        .wrap { max-width: 1000px; margin: 0 auto; }
        .card { background: var(--card); border-radius: 16px; padding: 30px; margin-bottom: 25px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.3); }
        h1 { font-size: 2.2rem; text-align: center; background: linear-gradient(to right, #818cf8, #34d399); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800; margin-bottom: 10px; }
        .input-group { display: flex; gap: 10px; margin-bottom: 15px; }
        input, textarea { width: 100%; padding: 14px; background: #0f172a; border: 1px solid #334155; border-radius: 10px; color: #fff; box-sizing: border-box; }
        .btn-main { width: 100%; padding: 18px; background: linear-gradient(135deg, var(--p), #8b5cf6); color: white; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; font-size: 1.2rem; transition: 0.3s; }
        .btn-main:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(99,102,241,0.4); }
        
        /* ë³´ê³ ì„œ ìŠ¤íƒ€ì¼ë§ */
        table { width: 100%; border-collapse: collapse; margin: 20px 0; background: rgba(0,0,0,0.2); }
        th, td { border: 1px solid #334155; padding: 12px; text-align: left; font-size: 0.95rem; }
        th { background: rgba(99,102,241,0.2); color: #a5b4fc; }
        .project-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .project-item { background: #0f172a; padding: 15px; border-radius: 10px; border-left: 4px solid var(--s); }
        .badge { display: inline-block; padding: 4px 10px; background: var(--p); border-radius: 6px; font-size: 0.8rem; margin-bottom: 8px; }
        #loading { display: none; text-align: center; padding: 50px; }
        .spinner { border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid var(--p); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div class="wrap">
    <div class="card" style="text-align: center;">
        <h1>ìƒê¸°ë¶€ ì„±ì¥ ë¶„ì„ ë° 3í•™ë…„ ì „ëµ ë³´ê³ ì„œ</h1>
        <p style="color: #94a3b8;">Gemini 3.0 Pro ê¸°ë°˜ | 1Â·2í•™ë…„ ë¶„ì„ ë° 3í•™ë…„ ì™„ê²° ë¡œë“œë§µ</p>
    </div>

    <div class="card">
        <label>ğŸ”‘ Gemini API Key</label>
        <input type="password" id="apiKey" placeholder="sk-..." style="margin-bottom: 20px;">
        
        <div class="input-group">
            <input type="text" id="name" placeholder="í•™ìƒ ì„±ëª…">
            <input type="text" id="major" placeholder="í¬ë§ ì§„ë¡œ/í•™ê³¼">
        </div>
        <textarea id="rawText" rows="8" placeholder="í•™ìƒì˜ 1, 2í•™ë…„ ìƒê¸°ë¶€ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."></textarea>
    </div>

    <button class="btn-main" onclick="runAnalysis()">ğŸ” ìµœì¢… ë³´ê³ ì„œ ìƒì„± ì‹œì‘</button>

    <div id="loading">
        <div class="spinner"></div>
        <p id="status">Gemini 3.0 Proê°€ í•™ìƒì˜ ì„±ì¥ ê¶¤ì ì„ ì‹¬ì¸µ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>

    <div id="result"></div>
</div>

<script>
    async function runAnalysis() {
        const key = document.getElementById('apiKey').value;
        const name = document.getElementById('name').value;
        const major = document.getElementById('major').value;
        const text = document.getElementById('rawText').value;

        if(!key || !text) return alert("API í‚¤ì™€ ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");

        document.getElementById('loading').style.display = 'block';
        document.getElementById('result').innerHTML = '';

        // ë³´ê³ ì„œ í˜•ì‹ì„ ê°•ì œí•˜ëŠ” ì´ˆì •ë°€ í”„ë¡¬í”„íŠ¸
        const systemPrompt = `ë‹¹ì‹ ì€ ëŒ€í•œë¯¼êµ­ ê³ 3 ì§„í•™ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. í•™ìƒ(${name}, ì§„ë¡œ:${major})ì˜ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ 5í˜ì´ì§€ ë¶„ëŸ‰ì˜ ì „ë¬¸ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
        ë°˜ë“œì‹œ ë‹¤ìŒì˜ JSON êµ¬ì¡°ë¥¼ ì§€í‚¤ê³ , ë‚´ìš©ì€ 'ë§ˆë¬´ë¦¬ì™€ ì‹¬í™”'ì— ì§‘ì¤‘í•˜ì„¸ìš”.
        
        {
          "growth_analysis": [
            {"category": "ì§„ë¡œì—­ëŸ‰", "grade1": "ê¸°ì´ˆ í˜•ì„± ë‚´ìš©", "grade2": "ì‹¬í™” ì„±ê³¼ ë‚´ìš©", "growth": "ì„±ì¥ íŠ¹ì§•"},
            {"category": "í•™ì—…ì—­ëŸ‰", "grade1": "ê¸°ì´ˆ í˜•ì„± ë‚´ìš©", "grade2": "ì‹¬í™” ì„±ê³¼ ë‚´ìš©", "growth": "ì„±ì¥ íŠ¹ì§•"},
            {"category": "ê³µë™ì²´ì—­ëŸ‰", "grade1": "ê¸°ì´ˆ í˜•ì„± ë‚´ìš©", "grade2": "ì‹¬í™” ì„±ê³¼ ë‚´ìš©", "growth": "ì„±ì¥ íŠ¹ì§•"},
            {"category": "ì¸ì„±ì—­ëŸ‰", "grade1": "ê¸°ì´ˆ í˜•ì„± ë‚´ìš©", "grade2": "ì‹¬í™” ì„±ê³¼ ë‚´ìš©", "growth": "ì„±ì¥ íŠ¹ì§•"}
          ],
          "blue_ocean_projects": [
            {"title": "í”„ë¡œì íŠ¸ëª…", "concept": "í•µì‹¬ ì´ë¡  ë° ì»¨ì…‰", "steps": ["1ë‹¨ê³„", "2ë‹¨ê³„", "3ë‹¨ê³„"], "competency": "ê¸°ëŒ€ ì—­ëŸ‰"}
          ],
          "record_strategy": {
            "career": "ì§„ë¡œì—­ëŸ‰ ê¸°ë¡ í¬ì¸íŠ¸",
            "academic": "í•™ì—…ì—­ëŸ‰ ê¸°ë¡ í¬ì¸íŠ¸",
            "community": "ê³µë™ì²´/ì„±ìˆ™ ê¸°ë¡ í¬ì¸íŠ¸"
          },
          "recommended_books": [
            {"title": "ë„ì„œëª…", "reason": "1,2í•™ë…„ í™œë™ê³¼ ì—°ê³„í•œ ì‹¬í™” ì´ìœ "}
          ],
          "conclusion": "ê¸°ëŒ€ë˜ëŠ” ì„±ì¥ ì™„ì„± ëª¨ìŠµ ìš”ì•½"
        }`;

        try {
            const resp = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent?key=${key}`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    contents: [{parts: [{text: systemPrompt + "\n\në°ì´í„°:\n" + text}]}],
                    generationConfig: {response_mime_type: "application/json"}
                })
            });
            const data = await resp.json();
            const res = JSON.parse(data.candidates[0].content.parts[0].text);
            renderReport(res);
        } catch (e) {
            alert("ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í‚¤ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ì¤„ì—¬ë³´ì„¸ìš”.");
        } finally {
            document.getElementById('loading').style.display = 'none';
        }
    }

    function renderReport(res) {
        let tableRows = res.growth_analysis.map(item => `
            <tr>
                <th>${item.category}</th>
                <td>${item.grade1}</td>
                <td>${item.grade2}</td>
                <td>${item.growth}</td>
            </tr>
        `).join('');

        let projectCards = res.blue_ocean_projects.map(p => `
            <div class="project-item">
                <div class="badge">PROJECT</div>
                <h4 style="margin:5px 0; color:var(--s)">${p.title}</h4>
                <p style="font-size:0.85rem; color:#94a3b8">${p.concept}</p>
                <ul style="font-size:0.85rem; padding-left:15px">
                    ${p.steps.map(s => `<li>${s}</li>`).join('')}
                </ul>
                <p style="font-size:0.8rem; border-top:1px solid #334155; padding-top:5px; margin-top:5px">ğŸ¯ ${p.competency}</p>
            </div>
        `).join('');

        document.getElementById('result').innerHTML = `
            <div class="card">
                <h2 style="color:var(--p)">1. 1í•™ë…„ ëŒ€ë¹„ 2í•™ë…„ ì£¼ìš” ì—­ëŸ‰ ì„±ì¥ ë¶„ì„</h2>
                <table>
                    <thead><tr><th>ì—­ëŸ‰</th><th>1í•™ë…„(ê¸°ì´ˆ)</th><th>2í•™ë…„(ì‹¬í™”)</th><th>ì„±ì¥ íŠ¹ì§•</th></tr></thead>
                    <tbody>${tableRows}</tbody>
                </table>
            </div>

            <div class="card">
                <h2 style="color:var(--s)">2. 3í•™ë…„ 'ë¸”ë£¨ì˜¤ì…˜' ì‹¤í–‰í˜• í”„ë¡œì íŠ¸ ì œì–¸</h2>
                <div class="project-grid">${projectCards}</div>
            </div>

            <div class="card">
                <h2 style="color:var(--p)">3. í•™êµìƒí™œê¸°ë¡ë¶€ ì˜ì—­ë³„ ê¸°ë¡ ì „ëµ</h2>
                <p><strong>ì§„ë¡œì—­ëŸ‰:</strong> ${res.record_strategy.career}</p>
                <p><strong>í•™ì—…ì—­ëŸ‰:</strong> ${res.record_strategy.academic}</p>
                <p><strong>ê³µë™ì²´ì—­ëŸ‰:</strong> ${res.record_strategy.community}</p>
            </div>

            <div class="card">
                <h2 style="color:var(--s)">4. ì™„ê²°ì„±ì„ ìœ„í•œ ì‹¬í™” ì¶”ì²œ ë„ì„œ</h2>
                ${res.recommended_books.map(b => `<p>ğŸ“˜ <strong>${b.title}</strong>: ${b.reason}</p>`).join('')}
            </div>

            <div class="card" style="background: linear-gradient(to bottom right, #1e293b, #0f172a); border: 2px solid var(--p);">
                <h2 style="text-align:center">5. ê¸°ëŒ€ë˜ëŠ” ì„±ì¥ ì™„ì„± ëª¨ìŠµ</h2>
                <p style="font-style:italic; text-align:center">${res.conclusion}</p>
            </div>
        `;
    }
</script>

</body>
</html>